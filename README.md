# @budarin/use-react-redux

[English Version](https://github.com/budarin/use-react-redux/blob/master/README.en.md)

## –ò–Ω—Å—Ç–∞–ª—è—Ü–∏—è

```bash
npm install --save @budarin/use-react-redux
```

## –ß—Ç–æ —ç—Ç–æ ?

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ React.Context –∏ React.Hooks.

–°—Ç–∞—Ç—å—è —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ - [React Redux –Ω–∞ React.Hooks+React.–°ontext](https://medium.com/@vadim_budarin/redux-–Ω–∞-react-hooks-react-—Åontext-ad673192309b).

## –ó–∞—á–µ–º ?

–ü–∞–∫–µ—Ç react-redux –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π –∫–æ—Å—Ç—ã–ª—å: —Ä–µ—à–∞—è –ø–æ–ª–µ–∑–Ω—É—é –∑–∞–¥–∞—á—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ–Ω –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –µ–º—É –∂–µ –∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –±–æ—Ä–æ—Ç—å—Å—è:
- –ø—Ä–æ–±–ª–µ–º–∞ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è redux, —Ö—Ä–∞–Ω—è—â–µ–≥–æ—Å—è –≤–Ω–µ react, —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ React
- —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã [zombie children –∏ stale props](https://medium.com/@vadim_budarin/react-–ø–æ–Ω—è—Ç–Ω–æ-–æ-zombie-children-and-stale-props-d31247ea08).

–†–∞–∑–º–µ—Ä redux + react-redux —Ç–∞–∫–∂–µ –¥–æ–≤–æ–ª—å–Ω–æ –±–æ–ª—å—à–æ–π - –æ–∫–æ–ª–æ 16–∫–± –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ –æ–∫–æ–ª–æ 8–∫–± - —Å–∂–∞—Ç–æ–≥–æ.

–ü–æ—ç—Ç–æ–º—É —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–¥–Ω–æ–µ –¥–ª—è React —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ React –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏–º –∂–µ.

–¢–∞–∫ –∂–µ –Ω–∞–∑—Ä–µ–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏–º–µ—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–æ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü - –ø–æ–≤–æ–∑–∏–≤—à–∏—Å—å —Å react-redux –º–æ–∂–Ω–æ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å, –Ω–æ –Ω–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—â–µ.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ?

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Ç–µ React, –∏—Å–ø–æ–ª—å–∑—É—è React.Context –∏ React.Hooks.

–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –µ–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –Ω–µ–µ –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π `React.createContext API`, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –≤—ã–∑–æ–≤–∞ —Ä–µ–Ω–¥–µ—Ä–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ React.Context, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–ë–ª–∞–≥–æ–¥–∞—Ä—è React.Hooks –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤—ã–∑–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∞ —Ç–æ–ª—å–∫–æ —Ç–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ —Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏–∑–æ—à–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

–î–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –ø–∞–∫–µ—Ç–µ [use-context-selection](https://www.npmjs.com/package/use-context-selection).

```javascript
const state = {
    a: 'A value',
    b: 'B value',
    c: 'B value',
};

// —Ç–µ–ø–µ—Ä—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –ê –º–æ–∂–Ω–æ —Å–ª—É—à–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏ `a` –≤ state
const a = useContextSelection((state) => state.a);
```

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É–∑–ª–∞ –≤ –¥–µ—Ä–µ–≤–æ - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–µ—Ä–µ–∏—Å–æ–≤–∫—É —Ç–æ–ª—å–∫–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É–∑–ª–∞, –∞ –Ω–µ –≤—Å–µ—Ö —É–∑–ª–æ–≤, –∫–∞–∫ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ React.Context:

![](https://github.com/budarin/use-react-redux/blob/master/profile.png?raw=true)

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

app-store.js

```jsx
import { createContext, createStorage } from '@budarin/use-react-redux';

const StateContext = createContext();
const DispatchContext = createContext();
const storage = createStorage(StateContext, DispatchContext);

export default storage;
```

–æ–ø–∏—à–µ–º –Ω–∞—à –ª–æ–≥–∏—Ä—É—é—â–∏–π middleware

middlewares.js

```javascript
const loggerMiddleware = (store) => (next) => (action) => {
    console.log('action', action);
    return next(action);
};

export default const appMiddlewares = [loggerMiddleware];
```

–æ—Å—Ç–∞–ª–æ—Å—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

app.js

```javascript
import storage from './app-store';
import appMiddlewares from './middlewares';

const { useStore, StoreProvider } = storage;

const Counter = ({ counter, actions }) => (
    <div>
        <p>
            Clicked: {counter} times
            {'  '}
            <button onClick={actions.increment}>+</button>
            {'  '}
            <button onClick={actions.decrement}>-</button>
        </p>
    </div>
);

const initialState = { counter: 0 };
const reducer = (state = initialState, action) => {
    switch (action.type) {
        case 'INCREMENT':
            return  { counter: state.counter + 1 };
        case 'DECREMENT':
            return { counter: state.counter - 1 };
        default:
            return state;
    }
};

const actionCreators = {
    increment: () => ({ type: 'INCREMENT' }),
    decrement: () => ({ type: 'DECREMENT' })
};

const selector = (state) => state;
const CounterContainer = (ownPropsd) => {
    const containerProps = useStore(selector, actionCreators, ownProps);

    return <Counter {...containerProps} />;
};

export default const App = () => (
    <StoreProvider
        reducer={reducer}
        initialState={initialState}
        middlewares={appMiddlewares}
    >
        <CounterContainer />
    </StoreProvider>
);
```

–í–æ—Ç –∏ –≤—Å–µ!

–†–∞–∑–º–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ–º–æ–≥–æ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –æ–∫–æ–ª–æ 3.5 –∫–± –∏ [1.6 –∫–±](https://bundlephobia.com/result?p=@budarin/use-react-redux) –≤ —Å–∂–∞—Ç–æ–º –≤–∏–¥–µ.

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞ –≤ Concurent Mode –∏ –¥–∞–∂–µ –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞ —á–µ–º react-redux !

–ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ –ª–∏—à—å —É–¥–µ–ª—è—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–ü—Ä–∏—è—Ç–Ω–æ–π –≤–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üòä

## API

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã:

-   [batch](#batch)
-   [createContext](#createContext)
-   [createStorage](#createStorage)
-   [createUseStore](#createUseStore)
-   [createProvider](#createProvider)

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —Ö—É–∫–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

-   [useStore](#useStore)
-   [StoreProvider](#StoreProvider)

### batch

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è unstable_batchedUpdates() API - –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ React –∏ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑.
–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è React - –µ–µ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å - React —Å–∞–º –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ–±—ä–µ–¥–∏–Ω—è—è –∏—Ö –≤ –æ–¥–Ω–æ.
–í –æ—Å–Ω–æ–≤–Ω–æ–º –¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–≥–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É–ø—Ä–∞–≤–ª—è—é—Ç –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ React (websockets –∏ —Ç–æ–º—É –ø–æ–¥–æ–±–Ω–æ–µ).

| Param    | Type | Description                                                            | Optional / Required |
| -------- | ---- | ---------------------------------------------------------------------- | ------------------- |
| callback | void | Callback, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã, –∏–∑–º–µ–Ω—è—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | Required            |

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏–º —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –≤ 3 —à–∞–≥–∞: –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –¥–µ–∫—Ä–∏–º–µ–Ω—Ç –∏ —Å–Ω–æ–≤–∞ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç —Å—á–µ—Ç—á–∏–∫–∞.
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–∑–æ–≤–∞ –≤—Å–µ—Ö —Ç—Ä–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–µ `batch` - –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –Ω–µ —Ç—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∞, –∞ –æ–¥–∏–Ω.

```javascript
import { batch } from '@budarin/use-react-redux';

window.setTimeout(
    () =>
        batch(() => {
            dispatch(actionCreators.increment());
            dispatch(actionCreators.deccrement());
            dispatch(actionCreators.increment());
        }),
    3000,
);
```

### createContext

–°–æ–∑–¥–∞–µ—Ç "—É–º–Ω—ã–π" `Context` –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å –Ω–æ–≤—ã–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ `equalityFn` –∏ –µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –Ω–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º

| Param      | Type     | Description                                                                                                          | Optional / Required |
| ---------- | -------- | -------------------------------------------------------------------------------------------------------------------- | ------------------- |
| initValue  | any      | –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Context                                                                                          | Optional            |
| equalityFn | Function | –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è isEqualShallow | Optional            |

-   **–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: Context

#### –ü—Ä–∏–º–µ—Ä

```jsx
const StateContext = createContext({ counter: 0 }, myEqualityFunction);
```

### isEqualShallow

–§—É–Ω—Ü–∏—è –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫–æ–≥–¥–∞ –≤ `createContext` –Ω–µ —É–∫–∞–∑–∞–Ω–∞ `equalityFn`.
–í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–Ω–∏–º–∞—Ç—å 2 –≤–µ—â–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:

-   –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç –Ω–µ –≥–ª—É–±–æ–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏;
-   –æ–Ω–∞ –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ–±—ä–µ–∫—Ç–∞—Ö —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `React.useCallback` –¥–ª—è –ø—Ä–æ–±—Ä–æ—Å–∞ —Ñ—É–Ω–∫—Ü–∏–π –≤–Ω—É—Ç—Ä—å –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –≤—ã–∑—ã–≤–∞–ª–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ.

| Param    | Type | Description          | Optional / Required |
| -------- | ---- | -------------------- | ------------------- |
| newState | any  | –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ      | Required            |
| oldState | any  | –ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ | Required            |

-   **–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: boolean; true - –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∏ false - –µ—Å–ª–∏ –æ–Ω–∏ —Ä–∞–∑–ª–∏—á–Ω—ã

### createStorage

–§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç —Ö—É–∫ `useStore` –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `StoreProvider` –¥–ª—è, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–∏, –ø–∞—Ä—ã –∫–æ–Ω—Ç–µ—Å—Ç–æ–≤.

| Param           | Type          | Description                      | Optional / Required |
| --------------- | ------------- | -------------------------------- | ------------------- |
| StateContext    | React.Context | Context, —Ö—Ä–∞–Ω—è—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ      | Required            |
| DispatchContext | React.Context | Context, —Ö—Ä–∞–Ω—è—â–∏–π –º–µ—Ç–æ–¥ dispatch | Required            |

-   **–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: –æ–±—ä–µ–∫—Ç { useStore, StoreProvider }

#### –ü—Ä–∏–º–µ—Ä

```jsx
const { useStore, StoreProvider } = createStorage(StateContext, DispatchContext);
```

### createUseStore

–ú–µ—Ç–æ–¥, —Å–æ–∑–¥–∞—é—â–∏–π —Ö—É–∫ `useStore` –¥–ª—è, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–∏, –ø–∞—Ä—ã –∫–æ–Ω—Ç–µ—Å—Ç–æ–≤.

| Param           | Type          | Description                      | Optional / Required |
| --------------- | ------------- | -------------------------------- | ------------------- |
| StateContext    | React.Context | Context, —Ö—Ä–∞–Ω—è—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ      | Required            |
| DispatchContext | React.Context | Context, —Ö—Ä–∞–Ω—è—â–∏–π –º–µ—Ç–æ–¥ dispatch | Required            |

-   **–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: —Ö—É–∫ useStore

#### –ü—Ä–∏–º–µ—Ä

```jsx
const useStore = createUseStore(StateContext, DispatchContext);
```

### createProvider

–ú–µ—Ç–æ–¥, —Å–æ–∑–¥–∞—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `StoreProvider` –¥–ª—è, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–∏, –ø–∞—Ä—ã –∫–æ–Ω—Ç–µ—Å—Ç–æ–≤.

| Param           | Type          | Description                      | Optional / Required |
| --------------- | ------------- | -------------------------------- | ------------------- |
| StateContext    | React.Context | Context, —Ö—Ä–∞–Ω—è—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ      | Required            |
| DispatchContext | React.Context | Context, —Ö—Ä–∞–Ω—è—â–∏–π –º–µ—Ç–æ–¥ dispatch | Required            |

-   **–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç StoreProvider

#### –ü—Ä–∏–º–µ—Ä

```jsx
const StoreProvider = createProvider(StateContext, DispatchContext);
```

### useStore

–•—É–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–∏, –ø–∞—Ä—ã –∫–æ–Ω—Ç–µ—Å—Ç–æ–≤.

| Param          | Type              | Description                                                                             | Optional / Required |
| -------------- | ----------------- | --------------------------------------------------------------------------------------- | ------------------- |
| selector       | Function          | —Ñ—É–Ω–∫—Ü–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä, –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è                                       | Optional            |
| actionCreators | Function / Object | –û–±—ä–µ–∫—Ç –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è, —Å–æ–∑–¥–∞—é—â–∞—è –æ–±—ä–µ–∫—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å–æ–±—ã—Ç–∏–π | Optional            |
| ownProps       | any               | —Å–≤–æ–π—Å—Ç–≤–∞, –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É                                                     | Optional            |

-   **–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: props - —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∫–∞–∫ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ:
    -   —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    -   —Å–≤–æ–π—Å—Ç–≤, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    -   —Å–≤–æ–π—Å—Ç–≤, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ actions –≤ stor –ø—Ä–∏ –ø–æ–º–æ—â–∏ dispatch

#### –ü—Ä–∏–º–µ—Ä

```jsx
const containerProps = useStore(selector, actionCreators, ownProps);
```

### StoreProvider

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å —Ü–µ–ª—å—é –ø—Ä–æ–±—Ä–æ—Å–∞ Context –≤–Ω—É—Ç—Ä—å –¥–µ—Ä–µ–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ React

#### –ü—Ä–∏–º–µ—Ä

```jsx
<StoreProvider reducer={reducer} initialState={initialState} middlewares={appMiddlewares}>
    <App />
</StoreProvider>
```
